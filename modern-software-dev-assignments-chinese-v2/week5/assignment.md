# 第5周 — 使用本地终端进行代理开发

使用`week5/`中的应用程序作为你的游乐场。本周与之前的作业类似，但强调本地终端环境和脚本自动化工作流程。

## 了解本地终端环境
- Windows Terminal: 现代化终端，支持多选项卡和自定义
- PowerShell: 强大的脚本环境，支持任务自动化
- 推荐替代方案：使用本地脚本 + 批处理文件实现自动化

## 探索启动应用程序
最小全栈启动应用程序。
- 带有SQLite的FastAPI后端（SQLAlchemy）
- 静态前端（无需Node工具链）
- 最小测试（pytest）
- 预提交（black + ruff）
- 练习代理驱动工作流程的任务

使用此应用程序作为你的游乐场来实验你构建的本地脚本自动化。

### 结构

```
backend/                # FastAPI应用
frontend/               # 由FastAPI服务的静态UI
data/                   # SQLite数据库 + 种子数据
docs/                   # 代理驱动工作流程的任务
```

### 快速开始

1) 激活你的conda环境。

```bash
conda activate cs146s
```

2) （可选）安装预提交钩子

```bash
pre-commit install
```

3) 运行应用（从`week5/`目录）

```bash
make run
```

4) 打开`http://localhost:8000`查看前端，`http://localhost:8000/docs`查看API文档。

5) 试用启动应用程序以熟悉其当前特性和功能。

### 测试
运行测试（从`week5/`目录）
```bash
make test
```

### 格式化/代码检查
```bash
make format
make lint
```

## 第一部分：构建你的自动化（选择2个或更多）
从`week5/docs/TASKS.md`中选择要实现的任务。你的实现必须以以下两种方式利用本地脚本和工具（更多详情如下）：

- A) 使用本地脚本和自动化工具——如批处理脚本、PowerShell脚本或本地工具集成。
- B) 在本地环境中整合多任务并行处理工作流程。

将你的更改集中在`week5/`内的后端、前端、逻辑或测试上。
对于每个选择的任务，注意其难度级别。

### A) 本地脚本和自动化工具（必需：至少一个）
为这个仓库创建一或多个本地脚本、批处理文件或自动化工具。示例：
- 带覆盖率的测试运行器脚本，支持失败重试
- 文档同步脚本：从`/openapi.json`生成/更新`docs/API.md`，列出路由差异
- 重构脚本：重命名模块，更新导入，运行代码检查/测试
- 发布助手脚本：增加版本，运行检查，准备变更日志片段
- Git自动化脚本：创建分支、提交、生成PR说明等

>*提示：保持工作流程专注，传递参数，使它们幂等，并尽可能偏好无头/非交互步骤。*

### B) Warp中的多代理工作流程（必需：至少一个）
运行多代理会话，其中不同Warp选项卡中的单独代理并发处理独立任务。
- 使用并发代理在单独的Warp选项卡中执行`TASKS.md`中的多个自包含任务。挑战：你能同时有多少代理在工作？

>*提示：[git worktree](https://git-scm.com/docs/git-worktree)在这里可能会有帮助，以防止代理相互覆盖。*

## 第二部分：让你的自动化发挥作用
现在你已经构建了2个以上的自动化，让我们使用它们！在`writeup.md`中的*"如何使用自动化（它解决或加速了什么痛点）"*部分，描述你如何利用每个自动化来改进某个工作流程。

## 约束和范围
严格在`week5/`内工作（后端、前端、逻辑、测试）。除非自动化明确需要且你记录原因，否则避免更改其他周。

## 交付物
1) 两个或更多Warp自动化，可能包括：
   - Warp Drive工作流程/规则（共享链接和/或导出的定义）以及任何助手脚本
   - 用于协调多个代理的任何补充提示/行动手册

2) `week5/`下的报告`writeup.md`，包括：
   - 每个自动化的设计，包括目标、输入/输出、步骤
   - 前后对比（即手动工作流程vs自动化工作流程）
   - 为每个完成任务使用的自主级别（哪些代码权限、原因以及你如何监督）
   - （如果适用）多代理说明：角色、协调策略以及并发优势/风险/失败
   - 如何使用自动化（它解决或加速了什么痛点）

## 提交说明
1. 确保所有更改已推送到远程仓库以供评分。
2. **确保你已将brentju和febielin添加为作业仓库的协作者。**
3. 通过Gradescope提交。 

